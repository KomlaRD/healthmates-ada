---
title: "Project report"
subtitle: "Ada Foah"
author: "Healthmates Nutrition Limited"
date: "8/28/2021"
institute: "Healthmates Nutrition Limited"
output:
  html_document:
    toc: true
    toc_float: true
  css: "bootstrap.css"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```




```{r package-setup, echo=FALSE}
# Importing packages for project

knitr::read_chunk("packages.R")
```


```{r packages}

```


```{r import-five-data}
ada_five<- import (here("data","ada_five_final.csv")) #Import dataset for children 5 years and below

ada_five<- clean_names(ada_five)

ada_five$num_child
```




```{r import-above-five-data}
ada_nine<- import (here("data","ada_nine_final.csv")) #Import dataset for children older than 5 years

ada_nine <- clean_names(ada_nine)
```




```{r healthmates-logo, fig.align='center', fig.cap='Healthmates logo', out.width='25%'}
knitr::include_graphics('/Users/ericanku/Documents/Healthmates/ada_project_analysis/healthmates-ada/healthmates.JPG')
```






```{r ada-five-wrangling,warning=FALSE}
ada_five<- ada_five%>%
        mutate (
                sex = factor(sex)%>%
                        fct_recode("Male" = "1",
                                   "Female" = "2")%>%
                        ff_label("Sex"),
                
                marital_status = factor(marital_status)%>%
                        fct_recode("Married" = "1",
                                   "Single" = "2",
                                   "Separated/Divorced" = "3",
                                   "Cohabiting" = "4")%>%
                        ff_label("Marital status"),
                
                educ_mum = factor(educ_mum)%>%
                        fct_recode("Never attended school" = "1",
                                   "Elementary/Primary" = "2",
                                   "Junior High" = "3",
                                   "Senior High" = "4",
                                   "Tertiary" = "5")%>%
                        ff_label("Educational status"),
                
                occupation_mum = factor(occupation_mum)%>%
                        fct_recode("Farmer" = "1",
                                   "Trader" = "2",
                                   "Dressmaker" = "3",
                                   "Hairdresser" = "4",
                                   "Unemployed" = "5")%>%
                        ff_label("Occupation"),
                
                income = factor(income)%>%
                        fct_recode("Less than 500 cedis"="1",
                                   "500-900 cedis" = "2",
                                   "1000-1500 cedis" = "3",
                                   "1500 cedis" = "4")%>%
                        ff_label("Income"),
                
                breastfeed_child = factor(breasfeed_child)%>%
                        fct_recode("No"="0",
                                   "Yes" = "1",
                                   "Don't know" = "9")%>%
                        ff_label("Did you ever breastfeed child?"),
                
                duration_bf = factor(duration_bf)%>%
                        fct_recode("Immediately" = "1",
                                   "Within first hour" = "2",
                                   "Hours" = "3",
                                   "Don't know" = "9")%>%
                        ff_label("Duration of breastfeeding after delivery"),
                
                day_bf = factor (day_bf)%>%
                        fct_recode("No" = "0",
                                   "Yes" = "1",
                                   "Don't know" = "9")%>%
                        ff_label("Breastfed the day before survey"),
                
                age_intro_feed = factor (age_intro_feed)%>%
                        fct_recode("<= 2 months" = "1",
                                   "3 months" = "2",
                                   "4 months" = "3",
                                   "5 months" = "4",
                                   "6 months" = "5",
                                   "> 6 months" = "6",
                                   "Don't know" = "9")%>%
                        ff_label("Age of introducing complementary meals"),
                
                edema = factor(edema)%>%
                        fct_recode("No" = "0",
                                   "Yes"= "1")%>%
                        ff_label("Edema"),
                
                age_mons = age_mons%>%
                        ff_label("Age of child (months)"),
                
                age_mother = age_mother%>%
                        ff_label("Age of mother (years)"),
                
                 num_child = num_child%>%
                        ff_label("Number of children"),
                
                hours_bf = hours_bf%>%
                        ff_label("How many hours after delivery did you breastfeed child?"),
                
                average_intake = average_intake%>%
                        ff_label("Average intake of meals"),
                
                bwt = bwt%>%
                        ff_label("Birth weight (kg)"),
                
                wt = wt%>%
                        ff_label("Weight of child (kg)"),
                
                lenhei = lenhei%>%
                        ff_label("Length/Height (cm)"),
                
                head_circumference = head_circumference%>%
                        ff_label("Head circumference (cm)"),
                
                muac = muac%>%
                        ff_label("Mid-upper arm circumference"),
                
                WHZ = WHZ%>%
                        ff_label("Weight-for-height z-score"),
                
                HAZ = HAZ%>%
                        ff_label("Height-for-age z-score"),
                
                WAZ = WAZ%>%
                       ff_label("Weight-for-age z-score"),
                
                BAZ = BAZ%>%
                       ff_label("BMI-for-age z-score"),
                
                HCZ = HCZ%>%
                      ff_label("Head circumference z-score"),
                
                MUACZ = MUACZ%>%
                      ff_label("MUAC z-score"),
                
                whz_factor = case_when(
                                       WHZ < -2 ~ "Acute malnutrition",
                                       WHZ >= -2 ~ "Normal")%>%
                ff_label("Acute malnutrition"),
                
                haz_factor = case_when(
                                      HAZ < -2  ~ "Chronic malnutrition",
                                      HAZ >= -2 ~ "Normal"
                )%>%
                ff_label("Chronic malnutrition")
                
                
                
                
                
                
                        
                
        )

```




```{r ada-nine-wrangling,warning=FALSE}
ada_nine<- ada_nine%>%
        mutate (
                sex = factor(sex)%>%
                        fct_recode("Male" = "1",
                                   "Female" = "2")%>%
                        ff_label("Sex"),
                
                marital_status = factor(marital_status)%>%
                        fct_recode("Married" = "1",
                                   "Single" = "2",
                                   "Separated/Divorced" = "3",
                                   "Cohabiting" = "4")%>%
                        ff_label("Marital status"),
                
                educ_mum = factor(educ_mum)%>%
                        fct_recode("Never attended school" = "1",
                                   "Elementary/Primary" = "2",
                                   "Junior High" = "3",
                                   "Senior High" = "4",
                                   "Tertiary" = "5")%>%
                        ff_label("Educational status"),
                
                occupation_mum = factor(occupation_mum)%>%
                        fct_recode("Farmer" = "1",
                                   "Trader" = "2",
                                   "Dressmaker" = "3",
                                   "Hairdresser" = "4",
                                   "Others" = "5")%>%
                        ff_label("Occupation"),
                
                income = factor(income)%>%
                        fct_recode("Less than 500 cedis"="1",
                                   "500-900 cedis" = "2",
                                   "1000-1500 cedis" = "3",
                                   "1500 cedis" = "4")%>%
                        ff_label("Income"),
                
                breastfeed_child = factor(breasfeed_child)%>%
                        fct_recode("No"="0",
                                   "Yes" = "1",
                                   "Don't know" = "9")%>%
                        ff_label("Did you ever breastfeed child?"),
                
                duration_bf = factor(duration_bf)%>%
                        fct_recode("Immediately" = "1",
                                   "Within first hour" = "2",
                                   "Hours" = "3",
                                   "Don't know" = "9")%>%
                        ff_label("Duration of breastfeeding after delivery"),
                
                day_bf = factor (day_bf)%>%
                        fct_recode("No" = "0",
                                   "Yes" = "1",
                                   "Don't know" = "9")%>%
                        ff_label("Breastfed the day before survey"),
                
                age_intro_feed = factor (age_intro_feed)%>%
                        fct_recode("<= 2 months" = "1",
                                   "3 months" = "2",
                                   "4 months" = "3",
                                   "5 months" = "4",
                                   "6 months" = "5",
                                   "> 6 months" = "6",
                                   "Don't know" = "9")%>%
                        ff_label("Age of introducing complementary meals"),
                
                edema = factor(edema)%>%
                        fct_recode("No" = "0",
                                   "Yes"= "1")%>%
                        ff_label("Edema"),
                
                age_mons = age_mons%>%
                        ff_label("Age of child (months)"),
                
                age_mother = age_mother%>%
                        ff_label("Age of mother (years)"),
                
                num_child = num_child%>%
                        ff_label("Number of children"),
                
                hours_bf = hours_bf%>%
                        ff_label("How many hours after delivery before child was breastfed?"),
                
                average_intake = average_intake%>%
                        ff_label("Average intake of meals"),
                
                bwt = bwt%>%
                        ff_label("Birth weight (kg)"),
                
                wt = wt%>%
                        ff_label("Weight of child (kg)"),
                
                lenhei = lenhei%>%
                        ff_label("Length/Height (cm)"),
                
                head_circumference = head_circumference%>%
                        ff_label("Head circumference (cm)"),
                
                muac = muac%>%
                        ff_label("Mid-upper arm circumference"),
                
                
                HAZ = HAZ%>%
                        ff_label("Height-for-age z-score"),
                
                WAZ = WAZ%>%
                       ff_label("Weight-for-age z-score"),
                
                BAZ = BAZ%>%
                       ff_label("BMI-for-age z-score"),
                
                
                baz_factor = case_when(
                                       BAZ < -2 ~ "Acute malnutrition",
                                       BAZ >= -2 ~ "Normal")%>%
                       ff_label("Acute malnutrition"),
                
                haz_factor = case_when(
                                      HAZ < -2  ~ "Chronic malnutrition",
                                      HAZ >= -2 ~ "Normal"
                )%>%
                       ff_label("Chronic malnutrition")
                        
                
                                   )

```



***
## Summary




***

## Introduction




***

## Nutrition assessment



***


## Descriptive statistics


```{r under-five, fig.cap='Growth indicators for children under five compared to WHO standards'}
knitr::include_graphics('/Users/ericanku/Documents/Healthmates/ada_project_analysis/healthmates-ada/ada_five_anthro_zscores_distributions.png')
```



#### Table summary for children 5 years and below




```{r}
ada_five%>%
  select(-c(breasfeed_child, Flag))%>%
  tbl_summary(type = list(average_intake ~ "continuous"),
                          statistic = 
                          c(age_mons, 
                            age_mother,
                            bwt,
                            wt,
                            lenhei,
                            average_intake,
                            head_circumference,
                            muac,
                            WHZ,
                            WAZ,
                            BAZ,
                            HCZ,
                            MUACZ
                           
                            
                            )
                                  ~ "{mean} ({sd})"
              
            )
```



#### Table summary for children above 5 years



```{r}
ada_nine%>%
  select(-c(breasfeed_child, head_circumference))%>%
  tbl_summary(type= list(c(average_intake,bwt,num_child) ~ "continuous"), 
              statistic = list(
    all_continuous() ~ "{mean} ({sd})"
  ))
```



```{r include=FALSE}
skim(ada_five) # Skim data of children 5 years and below
```






```{r include=FALSE}
skim(ada_nine) # Skim data of children above 5 years
```








```{r message=FALSE,warning=FALSE,cache=TRUE,warning=FALSE,include=FALSE}
ada_five%>%
        select(age_mons, age_mother, `num-child`, average_intake, bwt, wt, lenhei, head_circumference, muac)%>%
        ggpairs(title = "Correlation matrix for children 5 years and below")
### Correlation matrix of children 5 years and below


```








```{r message=FALSE,message=FALSE,cache=TRUE,warning=FALSE,include=FALSE}
ada_nine%>%
        select(age_mons, age_mother, `num-child`, average_intake, wt, lenhei)%>%
        ggpairs(title = "Correlation matrix for children above 5 years")

### Correlation matrix of children older than 5 years
```


***


## Visualisations



### Children 5 years and below



#### Sex of children



```{r}
ggplot(data = ada_five, aes(sex, fill = sex))+
        
        geom_bar()+
        
        labs(title="Sex of children",x="Sex", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")
```




#### Educational level of mothers



```{r educational-plot}
ggplot(data = ada_five, aes(educ_mum, fill = educ_mum))+
        
        geom_bar()+
        
        labs(title="Educational level of mothers",x="Educational level", y = "Frequency",fill="Educational level")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```


#### Marital status of mothers



```{r}
ggplot(data = ada_five, aes(marital_status, fill = marital_status))+
        
        geom_bar()+
        
        labs(title="Marital status of mothers",x="Marital status", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```


#### Occupation of mothers



```{r}
ggplot(data = ada_five, aes(occupation_mum, fill = occupation_mum))+
        
        geom_bar()+
        
        labs(title="Occupation of mothers",x="Occupation", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```


#### Income of mothers



```{r}
ggplot(data = ada_five, aes(income, fill = income))+
        
        geom_bar()+
        
        labs(title="Income of mothers",x="Income", y = "Frequency",fill="Educational level")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```



#### Duration of breastfeeding after birth



```{r}
ggplot(data = ada_five, aes(duration_bf, fill = duration_bf))+
        
        geom_bar()+
        
        labs(title="Duration of breastfeeding after child was delivered",x="Duration", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```



#### Breastfed the day before the survey



```{r}
ggplot(data = ada_five, aes(day_bf, fill = day_bf))+
        
        geom_bar()+
        
        labs(title="Was child breastfed the day before the survey",x="Response", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")
```


#### Age of introduction of complementary foods



```{r}
ggplot(data = ada_five, aes(age_intro_feed, fill = age_intro_feed))+
        
        geom_bar()+
        
        labs(title="Age of introducing complementary foods",x="Age of introduction", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```


#### Edema



```{r}
ggplot(data = ada_five, aes(edema, fill = edema))+
        
        geom_bar()+
        
        labs(title="Edema",x="Edema", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")
```



***


### Children above 5 years


#### Sex of children



```{r}
ggplot(data = ada_nine, aes(sex, fill = sex))+
        
        geom_bar()+
        
        labs(title="Sex of children",x="Sex", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")
```




#### Educational level of mothers



```{r}
ggplot(data = ada_nine, aes(educ_mum, fill = educ_mum))+
        
        geom_bar()+
        
        labs(title="Educational level of mothers",x="Educational level", y = "Frequency",fill="Educational level")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```


#### Marital status of mothers



```{r}
ggplot(data = ada_nine, aes(marital_status, fill = marital_status))+
        
        geom_bar()+
        
        labs(title="Marital status of mothers",x="Marital status", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```


#### Occupation of mothers



```{r}
ggplot(data = ada_nine, aes(occupation_mum, fill = occupation_mum))+
        
        geom_bar()+
        
        labs(title="Occupation of mothers",x="Occupation", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```


#### Income of mothers



```{r}
ggplot(data = ada_nine, aes(income, fill = income))+
        
        geom_bar()+
        
        labs(title="Income of mothers",x="Income", y = "Frequency",fill="Educational level")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```



#### Duration of breastfeeding after birth



```{r}
ggplot(data = ada_nine, aes(duration_bf, fill = duration_bf))+
        
        geom_bar()+
        
        labs(title="Duration of breastfeeding after child was delivered",x="Duration", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```



#### Breastfed the day before the survey



```{r}
ggplot(data = ada_nine, aes(day_bf, fill = day_bf))+
        
        geom_bar()+
        
        labs(title="Was child breastfed the day before the survey",x="Response", y = "Frequency",fill="Educational level")+
        
        theme_hc()+
        
        guides(fill="none")
```


#### Age of introduction of complementary foods



```{r}
ggplot(data = ada_nine, aes(age_intro_feed, fill = age_intro_feed))+
        
        geom_bar()+
        
        labs(title="Age of introducing complementary foods",x="Age of introduction", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")+
        
  theme(axis.text.x = element_text(angle = 60,hjust = 1))
```


#### Edema



```{r}
ggplot(data = ada_nine, aes(edema, fill = edema))+
        
        geom_bar()+
        
        labs(title="Edema",x="Edema", y = "Frequency")+
        
        theme_hc()+
        
        guides(fill="none")
```


***


## Nutrition Intervention




***


## Conclusion






